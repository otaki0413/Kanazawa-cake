<div class="container">

  <!--エラーメッセージ-->
  <% if @order.errors.any? %>
    <div id="error_explanation" class="alert alert-danger">
      <ul>
        <% @order.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="order-title">
    <h3 class="row page-title">注文情報入力</h3>
  </div>

  <div class="row">
    <div class="col-sm-12 order-new-form">
      <!--このフォームでの入力はすぐにDBに保存しない-->
      <%= form_with url: orders_confirm_path, method: :get, local: true do |f| %>

        <h4>支払い方法</h4>
        <div class="form-group">
          <%= f.radio_button :payment_method, 'クレジットカード', checked: true %>
          <%= f.label :payment_method, 'クレジットカード' %>
          <%= f.radio_button :payment_method, '銀行振込' %>
          <%= f.label :payment_method, '銀行振込' %>
          <%= f.radio_button :payment_method, '代金引換' %>
          <%= f.label :payment_method, '代金引換' %>
        </div>

        <h4>お届け先</h4>
        <div class="form-group row">
          <div class="col-sm-12 ">
            <%= f.radio_button :address_option, 0, checked: true %>
            <%= f.label :address, 'あなたの住所' %>
            <%= @member.my_address %><!--memberモデルから、カラムを連結させて取得----my_addressというメソッドを使う-->
          </div>
        </div>

        <div class="form-group row">
          <div class="col-sm-5">
            <%= f.radio_button :address_option, 1 %>
            <%= f.label :address, '登録済み住所から選択' %>
            <div>
              <!--仮のカラム,deliveryを指定する-->
              <%= f.collection_select :delivery, DeliveryGoal.all, :id, :full_deliveries, :include_blank => '選択してください', required: true %>
            </div>
          </div>
        </div>

        <!--フォーム部分をラベルなどを使って整える-->
        <div class="form-group row">
          <div class="col-md-12">
            <%= f.radio_button :address_option, 2 %>
            <%= f.label :address, '新しいお届け先' %>
            <div class="row">
              <div class="col-sm-2">郵便番号(ハイフンなし)</div>
              <div class="col-sm-10"><%= f.text_field :postcode, placeholder: "郵便番号"%></div>
              <div class="col-sm-2">住所</div>
              <div class="col-sm-10"><%= f.text_field :address, placeholder: "住所" %></div>
              <div class="col-sm-2">宛名</div>
              <div class="col-sm-10"><%= f.text_field :name, placeholder: "宛名" %></div>
            </div>
          </div>
        </div>

        <!--送信ボタン-->
        <div class="actions">
          <%= f.submit "確認画面へ進む", class: "btn btn-primary" %>
        </div>

      <% end %>
      <!--フォームここまで-->
    </div>
  </div>
</div>

